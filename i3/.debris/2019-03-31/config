## i3 config zero@discordia 2019

font                                    xft:FontAwesome, Noto Sans Regular 10
title_align                             left
floating_modifier                       $mod
focus_follows_mouse                     yes
force_focus_wrapping                    yes
mouse_warping                           none

# i3-gaps
gaps inner                              18
gaps outer                              6

## SET VARIABLES

set $mod                                Mod4

# Colours
set $trans                              "#00000080"
set $gold                               "#FFD700"
set $white                              "#FFFFFF"
set $red                                "#FF0000"
set $lblue                              "#3597F0"
set $black                              "#000000"
set $dgrey                              "#2E2E2E"
set $grey                               "#929292"
set $salmon                             "#FF8393"

# Monitors
set $Lmon                               "DVI-D-1"
set $Rmon                               "HDMI-1"

# Terminal
set $term                               termite

# Scripts
set $mclip                              /mnt/Gog/Scripts/mclip.py
set $pmenu                              /mnt/Gog/Scripts/rofi-power.sh
set $scard                              /mnt/Gog/Scripts/soundcard2.sh
set $wsnew                              /mnt/Gog/Scripts/workspace-new.py
set $vcv                                /mnt/Gog/Scripts/vcvrack.sh
set $dpmsoff                            /mnt/Gog/Scripts/dpms_off.sh
set $cheat                              /mnt/Gog/Scripts/cheat.sh
set $emoji                              /mnt/Gog/Scripts/rofimoji.py
set $i3msg                              /mnt/Gog/Scripts/rofi_i3_msg.sh
set $xkiller                            /mnt/Gog/Scripts/xkiller.sh
set $dswap                              /mnt/Gog/Scripts/display-swap.sh
set $yaws                               /mnt/Gog/Scripts/yaws.sh
set $gtoggle                            /mnt/Gog/Scripts/gapstoggle.sh

# Directories
set $scrotd                             /mnt/Gog/Pictures/scrots/
set $zome                               /mnt/Gog/
set $temp				                /mnt/Gog/Temp

# Default workspaces
set $ws1                                "1"
set $ws2                                "2"
set $ws3                                "3"
set $ws4                                "4"
set $ws5                                "5"
set $ws6                                "6"
set $ws7                                "7"
set $ws8                                "8"
set $ws9                                "9"
set $ws90                               "90"
set $ws91                               "91"
set $ws92                               "92"
set $ws93                               "93"
set $ws94                               "94"

# Next empty workspace
set $nempty                             $(($(wmctrl -d | wc -l) + 1))

## KEY BINDINGS

# Change focus
bindsym $mod+Left                       focus left
bindsym $mod+Down                       focus down
bindsym $mod+Up                         focus up
bindsym $mod+Right                      focus right

# move focused window
bindsym $mod+Shift+Left                 move left 20 px
bindsym $mod+Shift+Down                 move down 20 px
bindsym $mod+Shift+Up                   move up 20 px
bindsym $mod+Shift+Right                move right 20 px

# Workspaces
bindsym $mod+Mod2+KP_1                  workspace number $ws1
bindsym $mod+Mod2+KP_2                  workspace number $ws2
bindsym $mod+Mod2+KP_3                  workspace number $ws3
bindsym $mod+Mod2+KP_4                  workspace number $ws4
bindsym $mod+Mod2+KP_5                  workspace number $ws5
bindsym $mod+Mod2+KP_6                  workspace number $ws6
bindsym $mod+Mod2+KP_7                  workspace number $ws7
bindsym $mod+Mod2+KP_8                  workspace number $ws8
bindsym $mod+Mod2+KP_9                  workspace number $ws9

bindsym $mod+Shift+Mod2+KP_End          move container to workspace number $ws1
bindsym $mod+Shift+Mod2+KP_Down         move container to workspace number $ws2
bindsym $mod+Shift+Mod2+KP_Next         move container to workspace number $ws3
bindsym $mod+Shift+Mod2+KP_Left         move container to workspace number $ws4
bindsym $mod+Shift+Mod2+KP_Begin        move container to workspace number $ws5
bindsym $mod+Shift+Mod2+KP_Right        move container to workspace number $ws6
bindsym $mod+Shift+Mod2+KP_Home         move container to workspace number $ws7
bindsym $mod+Shift+Mod2+KP_Up           move container to workspace number $ws8
bindsym $mod+Shift+Mod2+KP_Prior        move container to workspace number $ws9

# Cheatsheet
bindsym $mod+w                          exec --no-startup-id $cheat
# Terminal
bindsym $mod+Return                     exec --no-startup-id $term
# Firefox
bindsym $mod+F1                         exec --no-startup-id firefox
# VS Code
bindsym $mod+F2                         exec --no-startup-id code
# PCmanFM
bindsym $mod+F3                         exec --no-startup-id pcmanfm $zome
# Gimp
bindsym $mod+F4                         exec --no-startup-id gimp  --no-splash
# VCV Rack
bindsym $mod+F5                         exec --no-startup-id $vcv
# Mousepad
bindsym $mod+F6                         exec --no-startup-id mousepad
# Audacity
bindsym $mod+F7                         exec --no-startup-id audacity
# Mixxx
bindsym $mod+F8                         exec --no-startup-id mixxx
# Cadence
bindsym $mod+F9                         exec --no-startup-id pamac-manager
# Flowblade
bindsym $mod+F10                        exec --no-startup-id python2 /usr/bin/flowblade
# Sticky Terminal
bindsym $mod+F11                        exec --no-startup-id minimal=true $term --title stickyterm
# Calculator
bindsym $mod+F12                        exec --no-startup-id galculator
# Close focused window
bindsym $mod+Shift+q                    kill
# Xkill
bindsym $mod+Escape --release           exec --no-startup-id $xkiller
# Run menu
bindsym $mod+d                          exec --no-startup-id rofi -show drun
# Window menu
bindsym $mod+g                          exec --no-startup-id rofi -show window
# Clipboard menu
bindsym $mod+c                          exec --no-startup-id rofi -modi "clipboard:$mclip menu" -show clipboard && $mclip paste
# i3-msg menu
bindsym $mod+i                          exec --no-startup-id rofi -show i3-msg -modi i3-msg:$i3msg
# Power menu
bindsym $mod+Delete                     exec --no-startup-id $pmenu
# Emoji menu
bindsym $mod+e                          exec --no-startup-id $emoji
# Run dialogue
bindsym $mod+o                          exec --no-startup-id rofi -show run
# Split horizontal
bindsym $mod+h                          split h; exec --no-startup-id notify-send 'horizontal split'
# Split vertical
bindsym $mod+v                          split v; exec --no-startup-id notify-send 'vertical split'
# Toggle bar 1 hide/show
bindsym $mod+comma                      bar mode toggle bar-1
# Toggle bar 2 hide/show
bindsym $mod+period                     bar mode toggle bar-2
# Toggle gaps
bindsym $mod+t                          exec $gtoggle
# Fullscreen toggle
bindsym $mod+f                          fullscreen toggle
# Global fullscreen
bindsym $mod+Shift+f                    fullscreen toggle global
# Toggle tiled/floating
bindsym $mod+space                      floating toggle
# Move workspace to other monitor
bindsym $mod+x                          move workspace to output right
# Move container to other monitor
bindsym $mod+Shift+x                    move container to output right
# Previous workspace on_output
bindsym $mod+bracketleft                workspace prev_on_output
# Next workspace on_output
bindsym $mod+bracketright               workspace next_on_output
# Move container to next empty workspace
bindsym $mod+n                          exec --no-startup-id i3-msg move to container workspace $nempty
# New workspace
bindsym $mod+z                          exec --no-startup-id $wsnew
# Swap displays
bindsym $mod+y                          exec --no-startup-id $dswap
# Reload i3 config
bindsym $mod+Shift+c                    reload
# Restart i3 inplace
bindsym $mod+Shift+r                    restart
# Move to scratchpad
bindsym $mod+minus                      move scratchpad
# Dropdown JACK patchbay
bindsym $mod+j                          [title="Carla - carla_default.carxp"] scratchpad show, resize set 1400 800, move position center
# Dropdown email
bindsym $mod+m                          [class="Rambox"] scratchpad show, resize set 1400 800, move position center
# Screenshot - full
bindsym $mod+Print                      exec --no-startup-id flameshot full -p $scrotd
# Screenshot - screen
bindsym $mod+Shift+Print                exec --no-startup-id flameshot screen -p $scrotd
# Screenshot - selection
bindsym $mod+p                          exec --no-startup-id flameshot gui -p $temp
# Tabbed container
bindsym $mod+k                          layout toggle tabbed split
# Random wallpaper
bindsym $mod+u                          exec --no-startup-id $yaws new
# Trash wallpaper
bindsym $mod+Shift+u			        exec --no-startup-id $yaws junk
# Favourite wallpaper
bindsym $mod+Control+u                  exec --no-startup-id $yaws star
# Wallpaper info
bindsym $mod+a                          exec --no-startup-id $yaws info
# Choose paper from ‚≠ê list
bindsym $mod+Shift+a                    exec --no-startup-id $yaws choose

## STATUS BARS

# Start i3bar to display a workspace bar
bar {
        id                              bar-1
        i3bar_command                   i3bar -t
        colors {
                background              $trans
                statusline              $white
                #                       border          background      text
                active_workspace        $trans          $trans          $salmon
                focused_workspace       $trans          $trans          $lblue
                inactive_workspace      $trans          $trans          $gold
                urgent_workspace        $trans          $red            $black
                }
        output                          $Lmon
        position                        top

        height                          24
        tray_output                     none
        strip_workspace_numbers         no
        status_command                  i3blocks -c ~/.config/i3blocks/config1
}

bar {
        id                              bar-2
        i3bar_command                   i3bar -t
        colors {
                background              $trans
                statusline              $white
                #                       border          background      text
                active_workspace        $trans          $trans          $salmon
                focused_workspace       $trans          $trans          $lblue
                inactive_workspace      $trans          $trans          $gold
                urgent_workspace        $trans          $red            $black
                }
        output                          $Rmon
        position                        top
        height                          24
        tray_output                     none
        strip_workspace_numbers         no
        status_command                  i3blocks -c ~/.config/i3blocks/config2
}

bar {
        id                              bar-3
        i3bar_command                   i3bar -t
        colors {
                background              "#00000000"
                }
        output                          $Rmon
        position                        bottom
        height                          24
        tray_output                     $Rmon
        tray_padding                    0
        workspace_buttons               no
        mode                            hide
        hidden_state                    show
        modifier                        Mod5
}

## EVERYTHING ELSE

# Assign workspaces to monitors
workspace $ws1                                          output $Lmon
workspace $ws2                                          output $Rmon
workspace $ws3                                          output $Lmon
workspace $ws4                                          output $Rmon
workspace $ws5                                          output $Lmon
workspace $ws6                                          output $Rmon
workspace $ws7                                          output $Lmon
workspace $ws8                                          output $Rmon
workspace $ws9                                          output $Lmon
workspace $ws90                                         output $Rmon
workspace $ws91                                         output $Lmon
workspace $ws92                                         output $Lmon
workspace $ws93                                         output $Lmon
workspace $ws94                                         output $Rmon

# Window colours                                        border  backgr  text    indicator
client.focused                                          $black  $black  $gold   $gold
client.unfocused                                        $trans  $trans  $salmon $gold
client.focused_inactive                                 $trans  $trans  $lblue  $gold
client.urgent                                           $red    $red    $white  $gold

# Window rules
for_window [class="^.*"]                                border pixel 0
for_window [class="^.*"]                                title_format "%class: <i>%title</i>"

for_window [window_role="pop-up"]                       floating enable
for_window [window_role="bubble"]                       floating enable
for_window [window_role="task_dialog"]                  floating enable
for_window [window_role="Preferences"]                  floating enable
for_window [window_type="dialog"]                       floating enable
for_window [window_type="menu"]                         floating enable

for_window [class="Galculator"]                         floating enable
for_window [class="Xmj"]                                floating enable
for_window [class="SimpleScreenRecorder"]               floating enable
for_window [class="Lightdm-gtk-greeter-settings"]       floating enable
for_window [class="Manjaro Settings Manager"]           floating enable
for_window [class="luckybackup"]                        floating enable
for_window [class="Gpick"]                              floating enable
for_window [class="Uget-gtk"]                           floating enable
for_window [class="Nm-connection-editor"]               floating enable
for_window [class="Gksu-properties"]                    floating enable
for_window [class="Pamac-manager"]                      floating enable
for_window [class="Pamac-updater"]                      floating enable
for_window [class="System-config-printer.py"]           floating enable
for_window [class="Catfish"]                            floating enable
for_window [class="GParted"]                            floating enable
for_window [class="Gnome-disks"]                        floating enable
for_window [class="Lightdm-settings"]                   floating enable
for_window [title="cheat" class="feh"]                  floating enable
for_window [title="Yad"]                                floating enable
for_window [class="Sol"]                                floating enable
for_window [class="Kvantum"]                            floating enable
for_window [class="Lxappearance"]                       floating enable
for_window [class="Arandr"]                             floating enable
for_window [class="flameshot"]                          floating enable
for_window [class="multibootusb"]                       floating enable
for_window [title="Event Tester"]                       floating enable
for_window [class="Youtube-dl-gui"]                     floating enable
for_window [class="Bleachbit"]                          floating enable
for_window [class="Flowblade" title="Audio Mixer"]      floating enable
for_window [class="Flowblademedialinker"]               floating enable
for_window [class="Flowblademgmic"]                     floating enable
for_window [class="yaws"]                               floating enable
for_window [class="Quodlibet"]                          floating enable
for_window [title="yawstars"]                           floating enable
for_window [class="Gnethogs"]                           floating enable

for_window [class="dupeGuru"]                           floating enable, move position center
for_window [class="Pyrenamer"]				            floating enable, move position center
for_window [class="Cadence"]                            floating enable, move position center
for_window [class="qwinff"]                             floating enable, move position center

for_window [class="Mixxx" title="Preferences"]		    move position center

for_window [title="stickyterm"]                         floating enable, sticky enable, resize set 800 400

for_window [class="GLFW-Application"]                   focus
for_window [class="Gimp"]                               focus
for_window [class="Mixxx"]                              focus
for_window [class="code-oss"]                           focus
for_window [class="Flowblade"]                          focus
for_window [class="Audacity"]                           focus

for_window [title="NetSpeed"]                           move scratchpad
for_window [title="Carla - carla_default.carxp"]        move scratchpad
for_window [class="Rambox"]                             move scratchpad

# Firefox resize bug workaround
for_window [class="(?i)firefox"] 			            resize grow height 1 px or 1 ppt

# Program assignments
assign [class="Firefox" window_type="normal"]           workspace number $ws1
assign [class="code-oss" window_type="normal"]          workspace number $ws2
assign [class="Audacity"]                               workspace number $ws90
assign [class="Flowblade"]                              workspace number $ws91
assign [class="Gimp"]                                   workspace number $ws92
assign [class="GLFW-Application" window_type="normal"]  workspace number $ws93
assign [class="Mixxx" window_type="normal"]             workspace number $ws94

# Autostart

exec --no-startup-id                                    compton
exec --no-startup-id                                    comptray
exec --no-startup-id                                    nm-applet
exec --no-startup-id                                    /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec --no-startup-id                                    numlockx on
exec --no-startup-id                                    megasync
exec --no-startup-id                                    $term --title NetSpeed -e "speedometer -r enp3s0 -t enp3s0"
exec --no-startup-id                                    carla-jack-multi /mnt/Magog/Audio_Projects/carla_default.carxp
exec --no-startup-id                                    pamac-tray
exec --no-startup-id                                    $dpmsoff
exec --no-startup-id                                    rambox
exec --no-startup-id 					                sh /home/zero/.fehbg
exec --no-startup-id 					                cadence --minimized
exec --no-startup-id                                    quodlibet --start-hidden
exec --no-startup-id                                    udiskie -t
exec_always --no-startup-id                             i3altlayout
exec_always --no-startup-id                             i3wsr
exec_always --no-startup-id                             $scard
exec_always --no-startup-id                             $mclip daemon
